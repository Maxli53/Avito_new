# Snowmobile Product Reconciliation - Environment Configuration
# Copy to .env and configure for your environment

# === APPLICATION SETTINGS ===
APP_NAME="Snowmobile Product Reconciliation"
APP_VERSION="1.0.0"
ENVIRONMENT="development"  # development, staging, production
DEBUG_MODE="true"
HOST="0.0.0.0"
PORT="8000"
WORKERS="4"

# === DATABASE CONFIGURATION ===
# PostgreSQL connection (REQUIRED)
DATABASE_URL="postgresql://username:password@localhost:5432/snowmobile_dev"
DB_POOL_SIZE="5"
DB_MAX_OVERFLOW="10"
DB_POOL_TIMEOUT="30"
DB_POOL_RECYCLE="3600"
DB_ECHO="false"  # Set to "true" for SQL query logging
DB_ECHO_POOL="false"

# === CLAUDE API CONFIGURATION ===
# Get your API key from https://console.anthropic.com/
CLAUDE_API_KEY="sk-ant-api03-your-api-key-here"
CLAUDE_MODEL="claude-3-haiku-20240307"
CLAUDE_MAX_TOKENS="4000"
CLAUDE_TEMPERATURE="0.1"
CLAUDE_TIMEOUT="30"
CLAUDE_MAX_RETRIES="3"

# Claude batch processing
CLAUDE_BATCH_SIZE="5"
CLAUDE_BATCH_ENABLED="true"

# Claude rate limiting
CLAUDE_REQUESTS_PER_MINUTE="50"
CLAUDE_MIN_REQUEST_INTERVAL="0.1"

# Claude cost controls
CLAUDE_DAILY_COST_LIMIT="10.0"
CLAUDE_MONTHLY_COST_LIMIT="200.0"
CLAUDE_COST_ALERTS_ENABLED="true"

# === PIPELINE CONFIGURATION ===
# Confidence thresholds
AUTO_ACCEPT_THRESHOLD="0.9"
MANUAL_REVIEW_THRESHOLD="0.7"

# Performance settings
MAX_CONCURRENT="10"
ENABLE_PARALLEL_STAGES="true"

# Feature flags
ENABLE_SPRING_OPTIONS="true"
ENABLE_CLAUDE_FALLBACK="true"
ENABLE_CONFIDENCE_TUNING="true"

# Processing limits
MAX_PRODUCTS_PER_BATCH="1000"
PROCESSING_TIMEOUT="300"

# Quality controls
MIN_BASE_MODEL_CONFIDENCE="0.6"
MIN_SPRING_OPTIONS_CONFIDENCE="0.7"

# === SECURITY CONFIGURATION ===
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY="your-secret-key-at-least-32-characters-long"
JWT_ALGORITHM="HS256"
JWT_EXPIRATION_HOURS="24"

# API security (optional)
API_KEY_ENABLED="false"
API_KEYS=""  # Comma-separated list of API keys

# CORS settings
CORS_ORIGINS=""  # Comma-separated list of allowed origins
CORS_ALLOW_CREDENTIALS="false"

# Rate limiting
RATE_LIMIT_ENABLED="true"
RATE_LIMIT_RPM="60"

# === MONITORING CONFIGURATION ===
# Logging
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT="json"  # json, text
LOG_FILE_ENABLED="true"
LOG_FILE_PATH="logs/app.log"
LOG_ROTATION_SIZE="10MB"
LOG_ROTATION_COUNT="5"

# Metrics
METRICS_ENABLED="true"
PROMETHEUS_ENABLED="false"
PROMETHEUS_PORT="8001"

# Health checks
HEALTH_CHECK_ENABLED="true"
HEALTH_CHECK_INTERVAL="30"

# Performance monitoring
PERFORMANCE_TRACKING_ENABLED="true"
SLOW_QUERY_THRESHOLD="1000"

# Alerting (optional)
ALERTS_ENABLED="false"
ALERT_WEBHOOK_URL=""

# === FILE PROCESSING ===
UPLOAD_MAX_SIZE_MB="100"
TEMP_DIR="/tmp/snowmobile"

# === EXTERNAL SERVICES ===
EXTERNAL_API_TIMEOUT="30"

# === DEVELOPMENT SETTINGS ===
# Only for development environment
PYTEST_DISABLE_WARNINGS="true"
PYTHONPATH="src"

# === PRODUCTION OVERRIDES ===
# Uncomment and modify for production deployment
# ENVIRONMENT="production"
# DEBUG_MODE="false"
# LOG_LEVEL="WARNING"
# CLAUDE_DAILY_COST_LIMIT="50.0"
# CLAUDE_MONTHLY_COST_LIMIT="1000.0"
# PROMETHEUS_ENABLED="true"
# ALERTS_ENABLED="true"

# === DOCKER SETTINGS (Optional) ===
# For Docker deployment
# POSTGRES_DB="snowmobile_prod"
# POSTGRES_USER="snowmobile"
# POSTGRES_PASSWORD="secure-password-here"
# REDIS_URL="redis://redis:6379"

# === STAGING OVERRIDES ===
# Uncomment for staging environment
# ENVIRONMENT="staging"
# DEBUG_MODE="false"
# DATABASE_URL="postgresql://staging_user:staging_pass@staging-db:5432/snowmobile_staging"
# CLAUDE_DAILY_COST_LIMIT="20.0"
# LOG_LEVEL="INFO"